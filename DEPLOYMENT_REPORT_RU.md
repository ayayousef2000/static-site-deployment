### **Отчет о развертывании статического сайта из GitHub в Yandex Cloud с анализом альтернативных инструментов**

**Задача:** Автоматизировать развертывание статического сайта, созданного с помощью MkDocs, из репозитория GitHub в Yandex Object Storage, а также проанализировать альтернативные технологии и подходы.

**Описание процесса:**
Для выполнения поставленной задачи был реализован CI/CD-пайплайн с использованием GitHub Actions. Этот процесс автоматически собирает сайт при каждом обновлении в основной ветке репозитория и загружает его в публичный бакет Yandex Object Storage, настроенный для хостинга веб-сайтов.

---

#### **Этап 1: Подготовка репозитория и локального окружения**

В первую очередь был создан репозиторий на платформе GitHub, который затем был клонирован на локальный компьютер. В папке проекта было создано виртуальное окружение Python с именем `env` для изоляции зависимостей.

Внутри этого окружения была установлена библиотека `MkDocs-material`. Для предварительного просмотра сайта и проверки корректности его отображения использовалась команда `mkdocs serve`.

---

#### **Этап 2: Настройка инфраструктуры в Yandex Cloud**

Следующим шагом стала подготовка облачной инфраструктуры для размещения файлов сайта.

1.  **Создание бакета в Yandex Object Storage:**
    *   В консоли Yandex Cloud был создан новый бакет с именем `aya-yousef`.
    *   Для обеспечения доступа к сайту из интернета был выбран публичный тип доступа (`Public`).

2.  **Конфигурация бакета для веб-хостинга:**
    *   В настройках бакета `aya-yousef` была активирована функция **«Веб-сайт»**.
    *   В качестве индексного документа был указан `index.html`, а в качестве документа об ошибке — `error.html`.

3.  **Создание сервисного аккаунта:**
    *   Для предоставления GitHub Actions прав на загрузку файлов в бакет был создан сервисный аккаунт с именем `github-actions-deployer`.
    *   Этому аккаунту была назначена роль `storage.editor`, которая дает необходимые разрешения на управление объектами в бакете.

4.  **Генерация статического ключа доступа:**
    *   Для аутентификации GitHub Actions в Yandex Cloud были сгенерированы статический ключ доступа (`Key ID`) и секретный ключ (`Secret key`) для сервисного аккаунта `github-actions-deployer`.

---

#### **Этап 3: Настройка репозитория GitHub**

Для безопасного хранения учетных данных Yandex Cloud в репозитории GitHub использовался механизм **Secrets**.

*   В настройках репозитория в разделе **Settings > Secrets and variables > Actions** были созданы следующие секреты:
    *   `YC_ACCESS_KEY_ID`: для хранения `Key ID`.
    *   `YC_SECRET_ACCESS_KEY`: для хранения `Secret key`.
    *   `YC_BUCKET_NAME`: для хранения имени бакета (`aya-yousef`).

---

#### **Этап 4: Создание рабочего процесса GitHub Actions (CI/CD)**

Основой автоматизации является файл рабочего процесса (workflow), который описывает шаги для сборки и развертывания сайта.

1.  **Создание файла workflow:**
    *   В структуре репозитория был создан каталог `.github/workflows/`, в котором разместили файл `deploy.yml`.

2.  **Конфигурация workflow:**
    *   В файл `deploy.yml` была добавлена конфигурация на языке YAML, описывающая последовательность действий: запуск при отправке изменений в ветку `main`, установку зависимостей, сборку сайта с помощью MkDocs и синхронизацию полученных файлов с бакетом `aya-yousef` в Yandex Cloud.

3.  **Сохранение и отправка изменений:**
    *   Файл `deploy.yml` был закоммичен и отправлен в удаленный репозиторий на GitHub.

---

#### **Этап 5: Запуск развертывания и проверка результата**

Отправка файла `.github/workflows/deploy.yml` в репозиторий автоматически запустила первое выполнение рабочего процесса.

*   Процесс выполнения можно было отслеживать в реальном времени во вкладке **Actions** репозитория GitHub.
*   После успешного завершения всех шагов рабочий процесс завершился, и статический сайт стал доступен по публичному URL-адресу: [https://aya-yousef.website.yandexcloud.net](https://aya-yousef.website.yandexcloud.net).

---

#### **Этап 6: Финальные изменения**

На заключительном этапе были внесены последние правки:
*   Создан и добавлен файл `error.html` для корректного отображения страницы ошибок.
*   Обновлены конфигурационный файл `mkdocs.yml` и главная страница `docs/index.md` для наполнения сайта контентом.

Эти изменения были отправлены в репозиторий, что вызвало повторный запуск CI/CD-пайплайна и автоматическое обновление сайта в Yandex Cloud.

---

### **Аналитический раздел**

#### **1. Возможности использования отечественных CDN для ускорения доставки контента**

Для ускорения загрузки статического контента (изображений, стилей, скриптов) у пользователей из разных географических регионов целесообразно использовать CDN (Content Delivery Network). CDN кэширует контент на своих серверах, расположенных близко к конечным пользователям, что значительно сокращает время отклика.

**Отечественные CDN-провайдеры:**

*   **Yandex Cloud CDN:** Интегрируется с Yandex Object Storage. Позволяет раздавать контент с пограничных серверов Яндекса, обеспечивая высокую скорость для пользователей из России и СНГ.
*   **Selectel CDN:** Предоставляет услуги CDN с широкой сетью точек присутствия в России и за рубежом.
*   **G-Core Labs:** Международный провайдер с мощной инфраструктурой в России.

**Процесс интеграции:** Как правило, интеграция включает создание CDN-ресурса в панели управления провайдера и указание источника контента (в данном случае — бакет в Object Storage). После этого для доступа к файлам используется специальный домен, предоставленный CDN-сервисом.

#### **2. Возможности Gitverse для реализации CI/CD**

**Gitverse** — это отечественная платформа для хостинга Git-репозиториев. На данный момент ее функциональность CI/CD находится в стадии активной разработки и уступает по возможностям таким зрелым решениям, как GitHub Actions или GitLab CI/CD.

*   **Текущие возможности:** Gitverse позволяет хранить код, управлять версиями и вести совместную разработку.
*   **Перспективы:** Ожидается, что в будущем платформа будет дополнена встроенными инструментами для автоматической сборки, тестирования и развертывания приложений, что позволит создавать CI/CD-пайплайны, аналогичные описанному в данном отчете.
*   **Альтернатива:** Пока встроенный CI/CD в Gitverse не реализован, для автоматизации можно использовать внешние инструменты, такие как **Jenkins** или **TeamCity**, настроив их на отслеживание изменений в репозитории Gitverse.

#### **3. Варианты деплоя статического сайта в продакшен и необходимые инструменты**

Существует несколько популярных подходов к развертыванию статических сайтов.

**1. Хостинг в облачном хранилище (S3-совместимом)**
Этот метод включает загрузку файлов сайта в облачное хранилище (бакет), которое настроено для работы в режиме веб-хостинга. Это надежный и хорошо масштабируемый подход. Необходимые инструменты включают облачную платформу (например, Yandex Cloud, AWS или Selectel) и утилиту для синхронизации файлов (например, aws-cli, s3cmd или rclone). Процесс развертывания, описанный в этом отчете с использованием Yandex Object Storage, является ярким примером этого метода.

**2. Платформы для хостинга статики (Jamstack-провайдеры)**
Это специализированные сервисы, которые интегрируются с Git-репозиториями для автоматической сборки и развертывания сайта. Они часто предоставляют "из коробки" такие важные функции, как CDN и SSL-сертификаты. Необходимые инструменты — это аккаунт на платформе (например, Netlify, Vercel или Cloudflare Pages) и Git-репозиторий (на GitHub, GitLab и т.д.). Например, можно подключить репозиторий GitHub к Netlify, указать команду сборки (`mkdocs build`) и выходной каталог (`site`), и Netlify будет автоматически обрабатывать сборку и развертывание при каждом новом коммите.

**3. Развертывание на собственном сервере (VPS/VDS)**
Это традиционный подход, который заключается в копировании статических файлов на виртуальный или выделенный сервер, где настроен веб-сервер (например, Nginx или Apache) для их раздачи. Это требует наличия VPS/VDS сервера, веб-сервера, утилит для копирования файлов (таких как scp или rsync) и системы автоматизации для CI/CD (например, Ansible или Jenkins). Примером может служить настройка Nginx на сервере для отдачи файлов из каталога `/var/www/my-site`, а затем добавление в CI/CD-пайплайн шага, который копирует собранные файлы сайта в этот каталог по SSH после каждого обновления.

**4. Использование контейнеризации**
При этом методе статический сайт упаковывается в Docker-контейнер вместе с веб-сервером (например, Nginx). Этот автономный блок затем можно развернуть в любой среде, поддерживающей Docker. Необходимые инструменты включают Docker, веб-сервер (Nginx) и, возможно, систему оркестрации (например, Docker Swarm или Kubernetes) для управления развертыванием. Например, можно создать `Dockerfile`, который копирует собранные файлы сайта в образ с Nginx, а затем запустить полученный контейнер на сервере с помощью команды `docker run`.